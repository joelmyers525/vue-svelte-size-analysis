const v={id:"app"},f={class:"todoapp"},m={class:"header"},h=e("h1",null,"todos",-1),g={class:"main"},k=e("label",{for:"toggle-all"},"Mark all as complete",-1),y={class:"todo-list"},w={class:"view"},b={class:"footer"},C={class:"todo-count"},x={class:"filters"};import{ref as V,computed as K,watchEffect as S}from"vue";const U={setup(U){const D="todos-petite-vue",E={all:e=>e,active:e=>e.filter((e=>!e.completed)),completed:e=>e.filter((e=>e.completed))},O=V(JSON.parse(localStorage.getItem(D)||"[]")),A=V("all"),B=V(),I=K((()=>E[A.value](O.value))),J=K((()=>E.active(O.value).length));function M(e){O.value.forEach((l=>l.completed=e.target.checked))}function N(e){const l=e.target.value.trim();l&&(O.value.push({id:Date.now(),title:l,completed:!1}),e.target.value="")}function L(e){O.value.splice(O.value.indexOf(e),1)}let W="";function j(e){B.value&&(B.value=null,e.title=e.title.trim(),e.title||L(e))}function q(){O.value=E.active(O.value)}function z(){const e=window.location.hash.replace(/#\/?/,"");E[e]?A.value=e:(window.location.hash="",A.value="all")}return S((()=>{localStorage.setItem(D,JSON.stringify(O.value))})),window.addEventListener("hashchange",z),z(),(V,K)=>(n(),c("div",v,[e("section",f,[e("header",m,[h,e("input",{class:"new-todo",autofocus:"",placeholder:"What needs to be done?",onKeyup:l(N,["enter"])},null,40,["onKeyup"])]),u(e("section",g,[e("input",{id:"toggle-all",class:"toggle-all",type:"checkbox",checked:0===t(J),onChange:M},null,40,["checked"]),k,e("ul",y,[(n(!0),c(o,null,a(t(I),(t=>(n(),c("li",{class:["todo",{completed:t.completed,editing:t===B.value}],key:t.id},[e("div",w,[u(e("input",{class:"toggle",type:"checkbox","onUpdate:modelValue":e=>t.completed=e},null,8,["onUpdate:modelValue"]),[[s,t.completed]]),e("label",{onDblclick:e=>function(e){W=e.title,B.value=e}(t)},i(t.title),41,["onDblclick"]),e("button",{class:"destroy",onClick:e=>L(t)},null,8,["onClick"])]),t===B.value?u((n(),c("input",{key:0,class:"edit",type:"text","onUpdate:modelValue":e=>t.title=e,onVnodeMounted:K[1]||(K[1]=({el:e})=>e.focus()),onBlur:e=>j(t),onKeyup:[l((e=>j(t)),["enter"]),l((e=>function(e){B.value=null,e.title=W}(t)),["escape"])]},null,40,["onUpdate:modelValue","onBlur","onKeyup"])),[[d,t.title]]):p("v-if",!0)],2)))),128))])],512),[[r,O.value.length]]),u(e("footer",b,[e("span",C,[e("strong",null,i(t(J)),1),e("span",null,i(1===t(J)?"item":"items")+" left",1)]),e("ul",x,[e("li",null,[e("a",{href:"#/all",class:{selected:"all"===A.value}},"All",2)]),e("li",null,[e("a",{href:"#/active",class:{selected:"active"===A.value}},"Active",2)]),e("li",null,[e("a",{href:"#/completed",class:{selected:"completed"===A.value}},"Completed",2)])]),u(e("button",{class:"clear-completed",onClick:q}," Clear completed ",512),[[r,O.value.length>t(J)]])],512),[[r,O.value.length]])])]))}};