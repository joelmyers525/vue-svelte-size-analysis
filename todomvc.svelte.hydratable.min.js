function y(e,l,t){const c=e.slice();return c[16]=l[t],c[17]=l,c[18]=t,c}function I(e){let d,h,p,m,v,I,N,T,b,$,O,U,S,C,P,x,B,D,M,R,H,J,F,G,V,W,j,q,z,K,Q,X,Y,Z,_,ee=[],le=new Map,te=1===e[4]?"item":"items",ce=e[3];const ae=e=>e[16].id;for(let l=0;l<ce.length;l+=1){let t=y(e,ce,l),c=ae(t);le.set(c,ee[l]=A(c,t))}let se=e[5]&&L(e);return{c(){d=n("section"),h=n("input"),m=E(),v=n("label"),I=k("Mark all as complete"),N=E(),T=n("ul");for(let e=0;e<ee.length;e+=1)ee[e].c();b=E(),$=n("footer"),O=n("span"),U=n("strong"),S=k(e[4]),C=E(),P=k(te),x=k(" left"),B=E(),D=n("ul"),M=n("li"),R=n("a"),H=k("All"),F=E(),G=n("li"),V=n("a"),W=k("Active"),q=E(),z=n("li"),K=n("a"),Q=k("Completed"),Y=E(),se&&se.c(),this.h()},l(l){d=a(l,"SECTION",{class:!0});var t=c(d);h=a(t,"INPUT",{id:!0,class:!0,type:!0}),m=s(t),v=a(t,"LABEL",{for:!0});var r=c(v);I=o(r,"Mark all as complete"),r.forEach(i),N=s(t),T=a(t,"UL",{class:!0});var n=c(T);for(let e=0;e<ee.length;e+=1)ee[e].l(n);n.forEach(i),b=s(t),$=a(t,"FOOTER",{class:!0});var f=c($);O=a(f,"SPAN",{class:!0});var u=c(O);U=a(u,"STRONG",{});var p=c(U);S=o(p,e[4]),p.forEach(i),C=s(u),P=o(u,te),x=o(u," left"),u.forEach(i),B=s(f),D=a(f,"UL",{class:!0});var g=c(D);M=a(g,"LI",{});var E=c(M);R=a(E,"A",{class:!0,href:!0});var k=c(R);H=o(k,"All"),k.forEach(i),E.forEach(i),F=s(g),G=a(g,"LI",{});var w=c(G);V=a(w,"A",{class:!0,href:!0});var y=c(V);W=o(y,"Active"),y.forEach(i),w.forEach(i),q=s(g),z=a(g,"LI",{});var A=c(z);K=a(A,"A",{class:!0,href:!0});var L=c(K);Q=o(L,"Completed"),L.forEach(i),A.forEach(i),g.forEach(i),Y=s(f),se&&se.l(f),f.forEach(i),t.forEach(i),this.h()},h(){t(h,"id","toggle-all"),t(h,"class","toggle-all"),t(h,"type","checkbox"),h.checked=p=e[5]===e[1].length,t(v,"for","toggle-all"),t(T,"class","todo-list"),t(O,"class","todo-count"),t(R,"class",J="all"===e[0]?"selected":""),t(R,"href","#/"),t(V,"class",j="active"===e[0]?"selected":""),t(V,"href","#/active"),t(K,"class",X="completed"===e[0]?"selected":""),t(K,"href","#/completed"),t(D,"class","filters"),t($,"class","footer"),t(d,"class","main")},m(t,c){f(t,d,c),l(d,h),l(d,m),l(d,v),l(v,I),l(d,N),l(d,T);for(let e=0;e<ee.length;e+=1)ee[e].m(T,null);l(d,b),l(d,$),l($,O),l(O,U),l(U,S),l(O,C),l(O,P),l(O,x),l($,B),l($,D),l(D,M),l(M,R),l(R,H),l(D,F),l(D,G),l(G,V),l(V,W),l(D,q),l(D,z),l(z,K),l(K,Q),l($,Y),se&&se.m($,null),Z||(_=u(h,"change",e[8]),Z=!0)},p(e,l){34&l&&p!==(p=e[5]===e[1].length)&&(h.checked=p),3212&l&&(ce=e[3],ee=w(ee,l,ae,1,e,ce,le,T,r,A,null,y)),16&l&&g(S,e[4]),16&l&&te!==(te=1===e[4]?"item":"items")&&g(P,te),1&l&&J!==(J="all"===e[0]?"selected":"")&&t(R,"class",J),1&l&&j!==(j="active"===e[0]?"selected":"")&&t(V,"class",j),1&l&&X!==(X="completed"===e[0]?"selected":"")&&t(K,"class",X),e[5]?se?se.p(e,l):(se=L(e),se.c(),se.m($,null)):se&&(se.d(1),se=null)},d(e){e&&i(d);for(let e=0;e<ee.length;e+=1)ee[e].d();se&&se.d(),Z=!1,_()}}}function N(e){let l,c,s,o;return{c(){l=n("input"),this.h()},l(e){l=a(e,"INPUT",{id:!0,class:!0}),this.h()},h(){l.value=c=e[16].description,t(l,"id","edit"),t(l,"class","edit"),l.autofocus=!0},m(t,c){f(t,l,c),l.focus(),s||(o=[u(l,"keydown",e[10]),u(l,"blur",e[11])],s=!0)},p(e,t){8&t&&c!==(c=e[16].description)&&l.value!==c&&(l.value=c)},d(e){e&&i(l),s=!1,m(o)}}}function A(e,r){let d,h,p,v,w,y,I,A,L,T,b,$,O,U=r[16].description+"";function S(){r[12].call(p,r[17],r[18])}function C(){return r[13](r[18])}function P(){return r[14](r[18])}let x=r[2]===r[18]&&N(r);return{key:e,first:null,c(){d=n("li"),h=n("div"),p=n("input"),v=E(),w=n("label"),y=k(U),I=E(),A=n("button"),L=E(),x&&x.c(),T=E(),this.h()},l(e){d=a(e,"LI",{class:!0});var l=c(d);h=a(l,"DIV",{class:!0});var t=c(h);p=a(t,"INPUT",{class:!0,type:!0}),v=s(t),w=a(t,"LABEL",{});var r=c(w);y=o(r,U),r.forEach(i),I=s(t),A=a(t,"BUTTON",{class:!0}),c(A).forEach(i),t.forEach(i),L=s(l),x&&x.l(l),T=s(l),l.forEach(i),this.h()},h(){t(p,"class","toggle"),t(p,"type","checkbox"),t(A,"class","destroy"),t(h,"class","view"),t(d,"class",b=(r[16].completed?"completed":"")+" "+(r[2]===r[18]?"editing":"")),this.first=d},m(e,t){f(e,d,t),l(d,h),l(h,p),p.checked=r[16].completed,l(h,v),l(h,w),l(w,y),l(h,I),l(h,A),l(d,L),x&&x.m(d,null),l(d,T),$||(O=[u(p,"change",S),u(w,"dblclick",C),u(A,"click",P)],$=!0)},p(e,l){r=e,8&l&&(p.checked=r[16].completed),8&l&&U!==(U=r[16].description+"")&&g(y,U),r[2]===r[18]?x?x.p(r,l):(x=N(r),x.c(),x.m(d,T)):x&&(x.d(1),x=null),12&l&&b!==(b=(r[16].completed?"completed":"")+" "+(r[2]===r[18]?"editing":""))&&t(d,"class",b)},d(e){e&&i(d),x&&x.d(),$=!1,m(O)}}}function L(e){let s,r,d,h;return{c(){s=n("button"),r=k("Clear completed"),this.h()},l(e){s=a(e,"BUTTON",{class:!0});var l=c(s);r=o(l,"Clear completed"),l.forEach(i),this.h()},h(){t(s,"class","clear-completed")},m(t,c){f(t,s,c),l(s,r),d||(h=u(s,"click",e[6]),d=!0)},p:p,d(e){e&&i(s),d=!1,h()}}}function T(e){let r,h,m,v,g,w,y,N,A,L=e[1].length>0&&I(e);return{c(){r=n("header"),h=n("h1"),m=k("todos"),v=E(),g=n("input"),w=E(),L&&L.c(),y=d(),this.h()},l(e){r=a(e,"HEADER",{class:!0});var l=c(r);h=a(l,"H1",{});var t=c(h);m=o(t,"todos"),t.forEach(i),v=s(l),g=a(l,"INPUT",{class:!0,placeholder:!0}),l.forEach(i),w=s(e),L&&L.l(e),y=d(),this.h()},h(){t(g,"class","new-todo"),t(g,"placeholder","What needs to be done?"),g.autofocus=!0,t(r,"class","header")},m(t,c){f(t,r,c),l(r,h),l(h,m),l(r,v),l(r,g),f(t,w,c),L&&L.m(t,c),f(t,y,c),g.focus(),N||(A=u(g,"keydown",e[9]),N=!0)},p(e,[l]){e[1].length>0?L?L.p(e,l):(L=I(e),L.c(),L.m(y.parentNode,y)):L&&(L.d(1),L=null)},i:p,o:p,d(e){e&&i(r),e&&i(w),L&&L.d(e),e&&i(y),N=!1,A()}}}function b(e,l,t){let c,a,s,o="all",r=[],i=null;try{r=JSON.parse(localStorage.getItem("todos-svelte"))||[]}catch(e){r=[]}const n=()=>{t(0,o="all"),"#/active"===window.location.hash?t(0,o="active"):"#/completed"===window.location.hash&&t(0,o="completed")};function d(e){t(1,r=r.slice(0,e).concat(r.slice(e+1)))}window.addEventListener("hashchange",n),n();return e.$$.update=()=>{if(3&e.$$.dirty&&t(3,c="all"===o?r:"completed"===o?r.filter((e=>e.completed)):r.filter((e=>!e.completed))),2&e.$$.dirty&&t(4,a=r.filter((e=>!e.completed)).length),2&e.$$.dirty&&t(5,s=r.filter((e=>e.completed)).length),2&e.$$.dirty)try{localStorage.setItem("todos-svelte",JSON.stringify(r))}catch(e){}},[o,r,i,c,a,s,function(){t(1,r=r.filter((e=>!e.completed)))},d,function(e){t(1,r=r.map((l=>({id:l.id,description:l.description,completed:e.target.checked}))))},function(e){13===e.which&&(t(1,r=r.concat({id:Date.now(),description:e.target.value,completed:!1})),e.target.value="")},function(e){13===e.which?e.target.blur():27===e.which&&t(2,i=null)},function(e){t(1,r[i].description=e.target.value,r),t(2,i=null)},function(e,l){e[l].completed=this.checked,t(3,c),t(0,o),t(1,r)},e=>t(2,i=e),e=>d(e)]}export default class extends e{constructor(e){super(),h(this,e,b,T,v,{})}}