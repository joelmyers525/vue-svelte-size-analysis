function v(e,t,l){const c=e.slice();return c[16]=t[l],c[17]=t,c[18]=l,c}function k(e){let i,s,r,u,p,k,w,$,x,C,S,N,A,I,J,M,O,D,E,L,W,j,q,z,B,F,G,H,K,P,Q,R,T,U,V=[],X=new Map,Y=1===e[4]?"item":"items",Z=e[3];const _=e=>e[16].id;for(let t=0;t<Z.length;t+=1){let l=v(e,Z,t),c=_(l);X.set(c,V[t]=y(c,l))}let ee=e[5]&&b(e);return{c(){i=o("section"),s=o("input"),u=m(),p=o("label"),p.textContent="Mark all as complete",k=m(),w=o("ul");for(let e=0;e<V.length;e+=1)V[e].c();$=m(),x=o("footer"),C=o("span"),S=o("strong"),N=f(e[4]),A=m(),I=f(Y),J=f(" left"),M=m(),O=o("ul"),D=o("li"),E=o("a"),L=f("All"),j=m(),q=o("li"),z=o("a"),B=f("Active"),G=m(),H=o("li"),K=o("a"),P=f("Completed"),R=m(),ee&&ee.c(),l(s,"id","toggle-all"),l(s,"class","toggle-all"),l(s,"type","checkbox"),s.checked=r=e[5]===e[1].length,l(p,"for","toggle-all"),l(w,"class","todo-list"),l(C,"class","todo-count"),l(E,"class",W="all"===e[0]?"selected":""),l(E,"href","#/"),l(z,"class",F="active"===e[0]?"selected":""),l(z,"href","#/active"),l(K,"class",Q="completed"===e[0]?"selected":""),l(K,"href","#/completed"),l(O,"class","filters"),l(x,"class","footer"),l(i,"class","main")},m(l,c){d(l,i,c),t(i,s),t(i,u),t(i,p),t(i,k),t(i,w);for(let e=0;e<V.length;e+=1)V[e].m(w,null);t(i,$),t(i,x),t(x,C),t(C,S),t(S,N),t(C,A),t(C,I),t(C,J),t(x,M),t(x,O),t(O,D),t(D,E),t(E,L),t(O,j),t(O,q),t(q,z),t(z,B),t(O,G),t(O,H),t(H,K),t(K,P),t(x,R),ee&&ee.m(x,null),T||(U=a(s,"change",e[8]),T=!0)},p(e,t){34&t&&r!==(r=e[5]===e[1].length)&&(s.checked=r),3212&t&&(Z=e[3],V=g(V,t,_,1,e,Z,X,w,c,y,null,v)),16&t&&h(N,e[4]),16&t&&Y!==(Y=1===e[4]?"item":"items")&&h(I,Y),1&t&&W!==(W="all"===e[0]?"selected":"")&&l(E,"class",W),1&t&&F!==(F="active"===e[0]?"selected":"")&&l(z,"class",F),1&t&&Q!==(Q="completed"===e[0]?"selected":"")&&l(K,"class",Q),e[5]?ee?ee.p(e,t):(ee=b(e),ee.c(),ee.m(x,null)):ee&&(ee.d(1),ee=null)},d(e){e&&n(i);for(let e=0;e<V.length;e+=1)V[e].d();ee&&ee.d(),T=!1,U()}}}function w(e){let t,c,i,s;return{c(){t=o("input"),t.value=c=e[16].description,l(t,"id","edit"),l(t,"class","edit"),t.autofocus=!0},m(l,c){d(l,t,c),t.focus(),i||(s=[a(t,"keydown",e[10]),a(t,"blur",e[11])],i=!0)},p(e,l){8&l&&c!==(c=e[16].description)&&t.value!==c&&(t.value=c)},d(e){e&&n(t),i=!1,u(s)}}}function y(e,c){let i,s,r,p,g,v,k,y,b,$,x,C,S,N=c[16].description+"";function A(){c[12].call(r,c[17],c[18])}function I(){return c[13](c[18])}function J(){return c[14](c[18])}let M=c[2]===c[18]&&w(c);return{key:e,first:null,c(){i=o("li"),s=o("div"),r=o("input"),p=m(),g=o("label"),v=f(N),k=m(),y=o("button"),b=m(),M&&M.c(),$=m(),l(r,"class","toggle"),l(r,"type","checkbox"),l(y,"class","destroy"),l(s,"class","view"),l(i,"class",x=(c[16].completed?"completed":"")+" "+(c[2]===c[18]?"editing":"")),this.first=i},m(e,l){d(e,i,l),t(i,s),t(s,r),r.checked=c[16].completed,t(s,p),t(s,g),t(g,v),t(s,k),t(s,y),t(i,b),M&&M.m(i,null),t(i,$),C||(S=[a(r,"change",A),a(g,"dblclick",I),a(y,"click",J)],C=!0)},p(e,t){c=e,8&t&&(r.checked=c[16].completed),8&t&&N!==(N=c[16].description+"")&&h(v,N),c[2]===c[18]?M?M.p(c,t):(M=w(c),M.c(),M.m(i,$)):M&&(M.d(1),M=null),12&t&&x!==(x=(c[16].completed?"completed":"")+" "+(c[2]===c[18]?"editing":""))&&l(i,"class",x)},d(e){e&&n(i),M&&M.d(),C=!1,u(S)}}}function b(e){let t,c,i;return{c(){t=o("button"),t.textContent="Clear completed",l(t,"class","clear-completed")},m(l,n){d(l,t,n),c||(i=a(t,"click",e[6]),c=!0)},p:r,d(e){e&&n(t),c=!1,i()}}}function $(e){let c,s,u,p,h,f,g,v,w=e[1].length>0&&k(e);return{c(){c=o("header"),s=o("h1"),s.textContent="todos",u=m(),p=o("input"),h=m(),w&&w.c(),f=i(),l(p,"class","new-todo"),l(p,"placeholder","What needs to be done?"),p.autofocus=!0,l(c,"class","header")},m(l,n){d(l,c,n),t(c,s),t(c,u),t(c,p),d(l,h,n),w&&w.m(l,n),d(l,f,n),p.focus(),g||(v=a(p,"keydown",e[9]),g=!0)},p(e,[t]){e[1].length>0?w?w.p(e,t):(w=k(e),w.c(),w.m(f.parentNode,f)):w&&(w.d(1),w=null)},i:r,o:r,d(e){e&&n(c),e&&n(h),w&&w.d(e),e&&n(f),g=!1,v()}}}function x(e,t,l){let c,n,o,i="all",s=[],d=null;try{s=JSON.parse(localStorage.getItem("todos-svelte"))||[]}catch(e){s=[]}const a=()=>{l(0,i="all"),"#/active"===window.location.hash?l(0,i="active"):"#/completed"===window.location.hash&&l(0,i="completed")};function r(e){l(1,s=s.slice(0,e).concat(s.slice(e+1)))}window.addEventListener("hashchange",a),a();return e.$$.update=()=>{if(3&e.$$.dirty&&l(3,c="all"===i?s:"completed"===i?s.filter((e=>e.completed)):s.filter((e=>!e.completed))),2&e.$$.dirty&&l(4,n=s.filter((e=>!e.completed)).length),2&e.$$.dirty&&l(5,o=s.filter((e=>e.completed)).length),2&e.$$.dirty)try{localStorage.setItem("todos-svelte",JSON.stringify(s))}catch(e){}},[i,s,d,c,n,o,function(){l(1,s=s.filter((e=>!e.completed)))},r,function(e){l(1,s=s.map((t=>({id:t.id,description:t.description,completed:e.target.checked}))))},function(e){13===e.which&&(l(1,s=s.concat({id:Date.now(),description:e.target.value,completed:!1})),e.target.value="")},function(e){13===e.which?e.target.blur():27===e.which&&l(2,d=null)},function(e){l(1,s[d].description=e.target.value,s),l(2,d=null)},function(e,t){e[t].completed=this.checked,l(3,c),l(0,i),l(1,s)},e=>l(2,d=e),e=>r(e)]}class extends e{constructor(e){super(),s(this,e,x,$,p,{})}}